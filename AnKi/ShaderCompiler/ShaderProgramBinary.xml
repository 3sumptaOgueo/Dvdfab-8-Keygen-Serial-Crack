<serializer>
	<includes>
		<include file="&lt;AnKi/ShaderCompiler/Common.h&gt;"/>
		<include file="&lt;AnKi/ShaderCompiler/ShaderProgramBinaryExtra.h&gt;"/>
		<include file="&lt;AnKi/Gr/Common.h&gt;"/>
	</includes>

	<classes>
		<class name="ShaderProgramBinaryStructMember" comment="A member of a ShaderProgramBinaryStruct">
			<members>
				<member name="m_name" type="Char" array_size="kMaxShaderBinaryNameLength + 1" constructor="= {}" />
				<member name="m_offset" type="U32" constructor="= kMaxU32" />
				<member name="m_type" type="ShaderVariableDataType" constructor="= ShaderVariableDataType::kNone" />
			</members>
		</class>

		<class name="ShaderProgramBinaryStruct" comment="A type that is a structure">
			<members>
				<member name="m_name" type="Char" array_size="kMaxShaderBinaryNameLength + 1" constructor="= {}" />
				<member name="m_members" type="WeakArray&lt;ShaderProgramBinaryStructMember&gt;" />
				<member name="m_size" type="U32" />
			</members>
		</class>

		<class name="ShaderProgramBinaryCodeBlock" comment="Contains the IR (SPIR-V)">
			<members>
				<member name="m_binary" type="WeakArray&lt;U8&gt;" />
				<member name="m_hash" type="U64" constructor="= 0" />
			</members>
		</class>

		<class name="ShaderProgramBinaryTechnique">
			<members>
				<member name="m_name" type="Char" array_size="kMaxShaderBinaryNameLength + 1" />
				<member name="m_shaderTypes" type="ShaderTypeBit" constructor="= ShaderTypeBit::kNone" />
			</members>
		</class>

		<class name="ShaderProgramBinaryMutator" comment="Shader program mutator">
			<members>
				<member name="m_name" type="Char" array_size="kMaxShaderBinaryNameLength + 1" constructor="= {}" />
				<member name="m_values" type="WeakArray&lt;MutatorValue&gt;" />
			</members>
		</class>

		<class name="ShaderProgramBinaryTechniqueCodeBlocks">
			<members>
				<member name="m_codeBlockIndices" type="U32" array_size="U32(ShaderType::kCount)" constructor="= {}" comment="Points to ShaderProgramBinary::m_codeBlocks. If the shader type is not present the value is kMaxU32" />
			</members>
		</class>
		
		<class name="ShaderProgramBinaryVariant">
			<members>
				<member name="m_techniqueCodeBlocks" type="WeakArray&lt;ShaderProgramBinaryTechniqueCodeBlocks&gt;" comment="One entry per technique" />
			</members>
		</class>

		<class name="ShaderProgramBinaryMutation" comment="A mutation is a unique combination of mutator values">
			<members>
				<member name="m_values" type="WeakArray&lt;MutatorValue&gt;" />
				<member name="m_hash" type="U64" constructor="= 0" comment="Mutation hash" />
				<member name="m_variantIndex" type="U32" constructor="= kMaxU32" comment="Points to ShaderProgramBinary::m_variants" />
			</members>
		</class>

		<class name="ShaderProgramBinary">
			<members>
				<member name="m_magic" type="U8" array_size="8" constructor="= {}" />
				<member name="m_shaderTypes" type="ShaderTypeBit" constructor="= ShaderTypeBit::kNone" />
				<member name="m_codeBlocks" type="WeakArray&lt;ShaderProgramBinaryCodeBlock&gt;" />
				<member name="m_mutators" type="WeakArray&lt;ShaderProgramBinaryMutator&gt;" />
				<member name="m_mutations" type="WeakArray&lt;ShaderProgramBinaryMutation&gt;" comment="It's sorted using the mutation's hash" />
				<member name="m_variants" type="WeakArray&lt;ShaderProgramBinaryVariant&gt;" />
				<member name="m_techniques" type="WeakArray&lt;ShaderProgramBinaryTechnique&gt;" />
				<member name="m_structs" type="WeakArray&lt;ShaderProgramBinaryStruct&gt;" />
			</members>
		</class>
	</classes>
</serializer>
